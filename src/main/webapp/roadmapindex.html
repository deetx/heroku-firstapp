<html>

<head>
    <title>Web Demo</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>
    <p id="rangeShow"></p>
    <p id="demo"></p>
    <select id="range" name="range">
        <option value="0">0</option>
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="30">30</option>
    </select>

    <div id="mapholder2"></div>
    <button id="geoLocate">Get position</button>

    <div id="map"></div>

    <script>
        /*
        console.log("Loaded.");
        let x = document.querySelector("#geoLocate");
        x.addEventListener("click", function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 15,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            });

            var marker = null;

            function autoUpdate() {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var newPoint = new google.maps.LatLng(position.coords.latitude,
                        position.coords.longitude);

                    if (marker) {
                        // Marker already created - Move it
                        marker.setPosition(newPoint);
                    }
                    else {
                        // Marker does not exist - Create it
                        marker = new google.maps.Marker({
                            position: newPoint,
                            map: map
                        });
                    }

                    // Center the map on the new position
                    map.setCenter(newPoint);
                })
                // Call the autoUpdate() function every 5 seconds
                watchPosition();
            }

            autoUpdate();
        });
        */
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {

                var point = new google.maps.LatLng(position.coords.latitude,
                    position.coords.longitude);

                // Initialize the Google Maps API v3
                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 15,
                    center: point,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                });

                // Place a marker
                new google.maps.Marker({
                    position: point,
                    map: map
                });
            });
        }
        else {
            alert('W3C Geolocation API is not available');
        } 
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyA2AzcUJLiiu879rNxangBccd4YeH8FBBQ">
    </script>
</body>

</html>